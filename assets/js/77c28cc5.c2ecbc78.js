(self.webpackChunksurreal_engine_playground=self.webpackChunksurreal_engine_playground||[]).push([[64],{78256:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r={};n.r(r),n.d(r,{getVideoList:function(){return f},videoGenerate:function(){return p},voiceGenerate:function(){return m}});var s=n(30365),a=n.n(s),l=n(14310),i=n(25706);var o=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).code=n,r}return(0,l.Z)(t,e),t}((0,i.Z)(Error)),c=function(e){function t(t,n){var r;return(r=e.call(this,null!=t?t:"")||this).code=null!=n?n:0,r}return(0,l.Z)(t,e),t}((0,i.Z)(Error));var u,d=a().create({baseURL:"https://openapi.surreal-ai.com"});(u=d).interceptors.request.use((function(e){var t="";try{t=JSON.parse(localStorage.getItem("se-token"))}catch(n){}return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){var t;return e.status>=200&&0===e.data.code?null==(t=e.data)?void 0:t.data:Promise.reject({code:e.data.code,message:e.data.message})}),(function(e){if(a().isCancel(e))return Promise.reject(e);var t,n,r=(null==e||null==(t=e.response)?void 0:t.data)||{};return null!=r&&r.code?Promise.reject(new c(null==r?void 0:r.message,null==r?void 0:r.code)):null!=(n=e.response)&&n.status?Promise.reject(new o(e.message,e.response.status)):Promise.reject(e)}));var j=d;function m(e){return j.post("/v1/tts/voice.generate",e)}function p(e){return j.post("/v1/a2v/video.generate",e)}function f(){return j.get("/v1/a2v/video.list")}var v={engine:r}},91318:function(e,t,n){"use strict";n(10046);var r=n(36573),s=n.n(r),a=n(73349),l=n(59496);t.Z=function(){return(0,a.Z)("se-token",{defaultValue:""})[0]?null:l.createElement(s(),{type:"error",title:"Please get token and save first"})}},36882:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return M},contentTitle:function(){return D},default:function(){return U},frontMatter:function(){return B},metadata:function(){return G},toc:function(){return O}});var r=n(62848),s=n(79213),a=n(59496),l=n(49613),i=(n(22887),n(62700)),o=n.n(i),c=(n(83038),n(17401)),u=n.n(c),d=(n(82876),n(90805)),j=n.n(d),m=(n(66412),n(11384)),p=n.n(m),f=(n(98265),n(28939)),v=n.n(f),h=(n(34355),n(97543)),k=n.n(h),b=(n(10046),n(36573)),g=n.n(b),x=n(75386),y=n(29960),w=n.n(y),E=n(73349),_=n(91318),z=n(78256),C=n(64221),Z=n(44963);function N(){var e=(0,E.Z)("se-token",{defaultValue:""})[0],t=a.useState(!1),n=t[0],r=t[1],s=a.useState(null),l=s[0],i=s[1],c=a.useState(!1),d=c[0],m=c[1],f=a.useState(0),h=f[0],b=f[1],y=a.useCallback(function(){var e=(0,x.Z)(w().mark((function e(t){var n,s,a,l,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,t.arrayBuffer();case 4:if(n=e.sent,s=C.ij(n),a=s.Sheets[s.SheetNames[0]],l=C.P6.sheet_to_json(a),!((o=l.filter((function(e){return e.pose_id&&e.voice_name&&e.text}))).length>0)){e.next=14;break}i(o),g().success("File parse success"),e.next=15;break;case 14:throw new Error("No vaild data");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),g().error(e.t0.message);case 20:return e.prev=20,r(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),[]);a.useEffect((function(){if(d){var e=!1,t=0,n=0,r=!1;return(0,x.Z)(w().mark((function s(){var a,i;return w().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a=0;case 1:if(!(a<(null==l?void 0:l.length))){s.next=19;break}if(!e){s.next=4;break}return s.abrupt("break",19);case 4:return b(Math.floor(a/(null==l?void 0:l.length)*100)),i=l[a],s.prev=6,s.next=9,S(i);case 9:t++,s.next=16;break;case 12:s.prev=12,s.t0=s.catch(6),g().error("Video "+(a+1)+" submit error: "+s.t0.message),n++;case 16:a++,s.next=1;break;case 19:b(100),r=!0,g().success("Submit success: "+t+", fail: "+n),m(!1);case 23:case"end":return s.stop()}}),s,null,[[6,12]])})))(),function(){e=!0,r||g().warning("Submit canceled")}}}),[l,d]);var z=a.useCallback((function(e){return e.length>0?y(e[0].originFileObj):i(null),!0}),[y]),Z=a.useCallback((0,x.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n&&l){e.next=3;break}return g().error("Please select file first"),e.abrupt("return");case 3:m(!0);case 4:case"end":return e.stop()}}),e)}))),[n,l]);return a.createElement(u(),{spacing:12},a.createElement(_.Z,null),a.createElement(v().Dragger,{listType:"text",accept:".xlsx, .xls, .csv",autoUpload:!1,onChange:z,limit:1},a.createElement("div",{className:"next-upload-drag"},a.createElement("p",{className:"next-upload-drag-icon"},a.createElement(k(),{type:"upload"})),a.createElement("p",{className:"next-upload-drag-text"},"Click or drag file here"),a.createElement("p",{className:"next-upload-drag-hint"},"Supports .xlsx, .xls, .csv "))),n?a.createElement(g(),{type:"loading",title:"waiting file parse"}):null,!n&&null!=l&&l.length?a.createElement("div",null,"generate data number: ",l.length):null,a.createElement("div",null,a.createElement(p(),{size:"large",type:"primary",disabled:!e,onClick:Z},"Generate Video")),a.createElement("div",null,a.createElement(o(),{v2:!0,title:"Video Generate Data Submit",visible:d,footerActions:["cancel"],cancelProps:{children:"Cancel"},onClose:function(){m(!1)}},a.createElement(u(),null,a.createElement("div",null,"Data Submiting, close this dialog will stop submit"),a.createElement("div",null,a.createElement(j(),{percent:h}))))))}var S=function(){var e=(0,x.Z)(w().mark((function e(t){var n,r,s,a,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,r=t.voice_name,s=t.pose_id,e.next=3,z.Z.engine.voiceGenerate({text:n,voice_name:r});case 3:return a=e.sent,e.next=6,z.Z.engine.videoGenerate({audio_url:a.url,pose_id:s});case 6:return l=e.sent,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){return a.createElement(Z.Z,null,(function(){return a.createElement(N,null)}))},P=["components"],B={sidebar_position:4,sidebar_label:"Batch Create Video"},D="Batch Create Video with Excel/CSV",G={unversionedId:"batch-create-video",id:"batch-create-video",title:"Batch Create Video with Excel/CSV",description:"upload file to create video",source:"@site/docs/batch-create-video.mdx",sourceDirName:".",slug:"/batch-create-video",permalink:"/playground/docs/batch-create-video",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Batch Create Video"},sidebar:"tutorialSidebar",previous:{title:"Get Your Token",permalink:"/playground/docs/get-token"},next:{title:"Video List",permalink:"/playground/docs/video-list"}},M={},O=[{value:"File format",id:"file-format",level:2},{value:"Upload here",id:"upload-here",level:2}],T={toc:O};function U(e){var t=e.components,a=(0,s.Z)(e,P);return(0,l.kt)("wrapper",(0,r.Z)({},T,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"batch-create-video-with-excelcsv"},"Batch Create Video with Excel/CSV"),(0,l.kt)("p",null,"upload file to create video"),(0,l.kt)("h2",{id:"file-format"},"File format"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"pose_id"),(0,l.kt)("th",{parentName:"tr",align:null},"voice_name"),(0,l.kt)("th",{parentName:"tr",align:null},"text"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"...")))),(0,l.kt)("p",null,(0,l.kt)("a",{target:"_blank",href:n(9104).Z},"template for excel")),(0,l.kt)("p",null,(0,l.kt)("a",{target:"_blank",href:n(81479).Z},"template for csv")),(0,l.kt)("h2",{id:"upload-here"},"Upload here"),(0,l.kt)(V,{mdxType:"BatchVideoCreate"}))}U.isMDXComponent=!0},81479:function(e,t,n){"use strict";t.Z=n.p+"assets/files/batch_create_video_template-2db562da1ac54576762a256d74ea5858.csv"},9104:function(e,t,n){"use strict";t.Z=n.p+"assets/files/batch_create_video_template-e1fde2de540a471e2fa9fcbd0f41d823.xlsx"},49365:function(e,t,n){var r={"./af":96124,"./af.js":96124,"./ar":84782,"./ar-dz":9971,"./ar-dz.js":9971,"./ar-kw":58327,"./ar-kw.js":58327,"./ar-ly":87422,"./ar-ly.js":87422,"./ar-ma":70950,"./ar-ma.js":70950,"./ar-sa":58165,"./ar-sa.js":58165,"./ar-tn":95179,"./ar-tn.js":95179,"./ar.js":84782,"./az":6033,"./az.js":6033,"./be":61904,"./be.js":61904,"./bg":18720,"./bg.js":18720,"./bm":68251,"./bm.js":68251,"./bn":5363,"./bn-bd":94083,"./bn-bd.js":94083,"./bn.js":5363,"./bo":47086,"./bo.js":47086,"./br":41887,"./br.js":41887,"./bs":62248,"./bs.js":62248,"./ca":45387,"./ca.js":45387,"./cs":53924,"./cs.js":53924,"./cv":1026,"./cv.js":1026,"./cy":66039,"./cy.js":66039,"./da":98532,"./da.js":98532,"./de":57616,"./de-at":30916,"./de-at.js":30916,"./de-ch":14894,"./de-ch.js":14894,"./de.js":57616,"./dv":89363,"./dv.js":89363,"./el":45050,"./el.js":45050,"./en-au":34020,"./en-au.js":34020,"./en-ca":29080,"./en-ca.js":29080,"./en-gb":14341,"./en-gb.js":14341,"./en-ie":28612,"./en-ie.js":28612,"./en-il":73885,"./en-il.js":73885,"./en-in":24619,"./en-in.js":24619,"./en-nz":32064,"./en-nz.js":32064,"./en-sg":65492,"./en-sg.js":65492,"./eo":10906,"./eo.js":10906,"./es":20173,"./es-do":94360,"./es-do.js":94360,"./es-mx":88797,"./es-mx.js":88797,"./es-us":79463,"./es-us.js":79463,"./es.js":20173,"./et":81602,"./et.js":81602,"./eu":32651,"./eu.js":32651,"./fa":31147,"./fa.js":31147,"./fi":14312,"./fi.js":14312,"./fil":82425,"./fil.js":82425,"./fo":9526,"./fo.js":9526,"./fr":83955,"./fr-ca":36584,"./fr-ca.js":36584,"./fr-ch":27314,"./fr-ch.js":27314,"./fr.js":83955,"./fy":89158,"./fy.js":89158,"./ga":11038,"./ga.js":11038,"./gd":58753,"./gd.js":58753,"./gl":78279,"./gl.js":78279,"./gom-deva":70830,"./gom-deva.js":70830,"./gom-latn":67334,"./gom-latn.js":67334,"./gu":54296,"./gu.js":54296,"./he":89229,"./he.js":89229,"./hi":43165,"./hi.js":43165,"./hr":84328,"./hr.js":84328,"./hu":8941,"./hu.js":8941,"./hy-am":90156,"./hy-am.js":90156,"./id":66075,"./id.js":66075,"./is":20789,"./is.js":20789,"./it":73224,"./it-ch":71026,"./it-ch.js":71026,"./it.js":73224,"./ja":71048,"./ja.js":71048,"./jv":24189,"./jv.js":24189,"./ka":6672,"./ka.js":6672,"./kk":5301,"./kk.js":5301,"./km":30567,"./km.js":30567,"./kn":24409,"./kn.js":24409,"./ko":2162,"./ko.js":2162,"./ku":18845,"./ku.js":18845,"./ky":50301,"./ky.js":50301,"./lb":18737,"./lb.js":18737,"./lo":44609,"./lo.js":44609,"./lt":81957,"./lt.js":81957,"./lv":72235,"./lv.js":72235,"./me":10374,"./me.js":10374,"./mi":8261,"./mi.js":8261,"./mk":13097,"./mk.js":13097,"./ml":52576,"./ml.js":52576,"./mn":45134,"./mn.js":45134,"./mr":65493,"./mr.js":65493,"./ms":51753,"./ms-my":92039,"./ms-my.js":92039,"./ms.js":51753,"./mt":72834,"./mt.js":72834,"./my":24434,"./my.js":24434,"./nb":11650,"./nb.js":11650,"./ne":98362,"./ne.js":98362,"./nl":67618,"./nl-be":11480,"./nl-be.js":11480,"./nl.js":67618,"./nn":33934,"./nn.js":33934,"./oc-lnc":10567,"./oc-lnc.js":10567,"./pa-in":20004,"./pa-in.js":20004,"./pl":87160,"./pl.js":87160,"./pt":49934,"./pt-br":33770,"./pt-br.js":33770,"./pt.js":49934,"./ro":88662,"./ro.js":88662,"./ru":8154,"./ru.js":8154,"./sd":49574,"./sd.js":49574,"./se":5162,"./se.js":5162,"./si":35544,"./si.js":35544,"./sk":30327,"./sk.js":30327,"./sl":99751,"./sl.js":99751,"./sq":69253,"./sq.js":69253,"./sr":25722,"./sr-cyrl":98776,"./sr-cyrl.js":98776,"./sr.js":25722,"./ss":95865,"./ss.js":95865,"./sv":69715,"./sv.js":69715,"./sw":4192,"./sw.js":4192,"./ta":33561,"./ta.js":33561,"./te":67890,"./te.js":67890,"./tet":40525,"./tet.js":40525,"./tg":6876,"./tg.js":6876,"./th":92590,"./th.js":92590,"./tk":37191,"./tk.js":37191,"./tl-ph":47046,"./tl-ph.js":47046,"./tlh":65342,"./tlh.js":65342,"./tr":99653,"./tr.js":99653,"./tzl":67999,"./tzl.js":67999,"./tzm":94978,"./tzm-latn":17608,"./tzm-latn.js":17608,"./tzm.js":94978,"./ug-cn":56574,"./ug-cn.js":56574,"./uk":53382,"./uk.js":53382,"./ur":7384,"./ur.js":7384,"./uz":43635,"./uz-latn":31720,"./uz-latn.js":31720,"./uz.js":43635,"./vi":68027,"./vi.js":68027,"./x-pseudo":43859,"./x-pseudo.js":43859,"./yo":22196,"./yo.js":22196,"./zh-cn":67899,"./zh-cn.js":67899,"./zh-hk":28605,"./zh-hk.js":28605,"./zh-mo":87282,"./zh-mo.js":87282,"./zh-tw":53994,"./zh-tw.js":53994};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id=49365}}]);