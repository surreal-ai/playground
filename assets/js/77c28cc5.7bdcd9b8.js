(self.webpackChunksurreal_engine_playground=self.webpackChunksurreal_engine_playground||[]).push([[64],{78256:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r={};n.r(r),n.d(r,{getVideoList:function(){return f},videoGenerate:function(){return p},voiceGenerate:function(){return m}});var a=n(30365),s=n.n(a),l=n(14310),i=n(25706);var o=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).code=n,r}return(0,l.Z)(t,e),t}((0,i.Z)(Error)),u=function(e){function t(t,n){var r;return(r=e.call(this,null!=t?t:"")||this).code=null!=n?n:0,r}return(0,l.Z)(t,e),t}((0,i.Z)(Error));var c,d=s().create({baseURL:"https://openapi.surreal-ai.com"});(c=d).interceptors.request.use((function(e){var t="";try{t=JSON.parse(localStorage.getItem("se-token"))}catch(n){}return t&&(e.headers||(e.headers={}),e.headers.Authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){var t;return e.status>=200&&0===e.data.code?null==(t=e.data)?void 0:t.data:Promise.reject({code:e.data.code,message:e.data.message})}),(function(e){if(s().isCancel(e))return Promise.reject(e);var t,n,r=(null==e||null==(t=e.response)?void 0:t.data)||{};return null!=r&&r.code?Promise.reject(new u(null==r?void 0:r.message,null==r?void 0:r.code)):null!=(n=e.response)&&n.status?Promise.reject(new o(e.message,e.response.status)):Promise.reject(e)}));var j=d;function m(e){return j.post("/v1/tts/voice.generate",e)}function p(e){return j.post("/v1/a2v/video.generate",e)}function f(){return j.get("/v1/a2v/video.list")}var v={engine:r}},91318:function(e,t,n){"use strict";n(10046);var r=n(36573),a=n.n(r),s=n(73349),l=n(59496),i=n(66410);t.Z=function(){var e=(0,s.Z)("se-token",{defaultValue:""})[0],t=(0,i.C)().withBaseUrl;return e?null:l.createElement(a(),{type:"error",title:l.createElement("div",null,"Please ",l.createElement("a",{href:t("/docs/get-token")},"get token and save")," first")})}},36882:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return G},contentTitle:function(){return D},default:function(){return T},frontMatter:function(){return B},metadata:function(){return U},toc:function(){return M}});var r=n(62848),a=n(79213),s=n(59496),l=n(49613),i=(n(22887),n(62700)),o=n.n(i),u=(n(83038),n(17401)),c=n.n(u),d=(n(82876),n(90805)),j=n.n(d),m=(n(66412),n(11384)),p=n.n(m),f=(n(98265),n(28939)),v=n.n(f),h=(n(34355),n(97543)),b=n.n(h),k=(n(10046),n(36573)),g=n.n(k),x=n(75386),y=n(29960),_=n.n(y),w=n(73349),E=n(91318),C=n(78256),N=n(64221),z=n(44963),Z=function(){var e=(0,x.Z)(_().mark((function e(t){var n,r,a,s,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.text,r=t.voice_name,a=t.pose_id,!t.audio_url){e.next=5;break}e.t0={url:t.audio_url},e.next=8;break;case 5:return e.next=7,C.Z.engine.voiceGenerate({text:n,voice_name:r});case 7:e.t0=e.sent;case 8:return s=e.t0,e.next=11,C.Z.engine.videoGenerate({audio_url:s.url,pose_id:a});case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(){var e=(0,w.Z)("se-token",{defaultValue:""})[0],t=s.useState(!1),n=t[0],r=t[1],a=s.useState(null),l=a[0],i=a[1],u=s.useState(!1),d=u[0],m=u[1],f=s.useState(0),h=f[0],k=f[1],y=s.useCallback(function(){var e=(0,x.Z)(_().mark((function e(t){var n,a,s,l,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,t.arrayBuffer();case 4:if(n=e.sent,a=N.ij(n),s=a.Sheets[a.SheetNames[0]],l=N.P6.sheet_to_json(s),!((o=l.filter((function(e){return e.pose_id&&(e.audio_url||e.voice_name&&e.text)}))).length>0)){e.next=14;break}i(o),g().success("File parse success"),e.next=15;break;case 14:throw new Error("No vaild data");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),g().error(e.t0.message);case 20:return e.prev=20,r(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),[]);s.useEffect((function(){if(d){var e=!1,t=0,n=0,r=!1;return(0,x.Z)(_().mark((function a(){var s,i;return _().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=0;case 1:if(!(s<(null==l?void 0:l.length))){a.next=19;break}if(!e){a.next=4;break}return a.abrupt("break",19);case 4:return k(Math.floor(s/(null==l?void 0:l.length)*100)),i=l[s],a.prev=6,a.next=9,Z(i);case 9:t++,a.next=16;break;case 12:a.prev=12,a.t0=a.catch(6),g().error("Video "+(s+1)+" submit error: "+a.t0.message),n++;case 16:s++,a.next=1;break;case 19:if(r=!0,k(100),m(!1),!e){a.next=24;break}return a.abrupt("return");case 24:0===n?g().success("Submit success: "+t+" job"):0===t?g().error("Submit failed: "+n+" job"):g().warning("Submit success: "+t+" job, but fail: "+n+" job");case 25:case"end":return a.stop()}}),a,null,[[6,12]])})))(),function(){e=!0,r||g().warning("Submit canceled")}}}),[l,d]);var C=s.useCallback((function(e){return e.length>0?y(e[0].originFileObj):i(null),!0}),[y]),z=s.useCallback((0,x.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n&&l){e.next=3;break}return g().error("Please select file first"),e.abrupt("return");case 3:m(!0);case 4:case"end":return e.stop()}}),e)}))),[n,l]);return s.createElement(c(),{spacing:12},s.createElement(E.Z,null),s.createElement(v().Dragger,{listType:"text",accept:".xlsx, .xls, .csv",autoUpload:!1,onChange:C,limit:1,disabled:!e},s.createElement("div",{className:"next-upload-drag"},s.createElement("p",{className:"next-upload-drag-icon"},s.createElement(b(),{type:"upload"})),s.createElement("p",{className:"next-upload-drag-text"},"Click or drag file here"),s.createElement("p",{className:"next-upload-drag-hint"},"Supports .xlsx, .xls, .csv "))),n?s.createElement(g(),{type:"loading",title:"waiting file parse"}):null,!n&&null!=l&&l.length?s.createElement("div",null,"generate data number: ",l.length):null,s.createElement("div",null,s.createElement(p(),{size:"large",type:"primary",disabled:!e,onClick:z},"Generate Video")),s.createElement("div",null,s.createElement(o(),{v2:!0,title:"Video Generate Data Submit",visible:d,footerActions:["cancel"],cancelProps:{children:"Cancel"},onClose:function(){m(!1)}},s.createElement(c(),null,s.createElement("div",null,"Data Submiting, close this dialog will stop submit"),s.createElement("div",null,s.createElement(j(),{percent:h}))))))}var V=function(){return s.createElement(z.Z,null,(function(){return s.createElement(S,null)}))},P=["components"],B={sidebar_position:4,sidebar_label:"Batch Create Video"},D="Batch Create Video with Excel/CSV",U={unversionedId:"batch-create-video",id:"batch-create-video",title:"Batch Create Video with Excel/CSV",description:"upload file to create video",source:"@site/docs/batch-create-video.mdx",sourceDirName:".",slug:"/batch-create-video",permalink:"/playground/docs/batch-create-video",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Batch Create Video"},sidebar:"tutorialSidebar",previous:{title:"Provide Your Token",permalink:"/playground/docs/get-token"},next:{title:"Video List",permalink:"/playground/docs/video-list"}},G={},M=[{value:"File format",id:"file-format",level:2},{value:"Upload here",id:"upload-here",level:2}],O={toc:M};function T(e){var t=e.components,s=(0,a.Z)(e,P);return(0,l.kt)("wrapper",(0,r.Z)({},O,s,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"batch-create-video-with-excelcsv"},"Batch Create Video with Excel/CSV"),(0,l.kt)("p",null,"upload file to create video"),(0,l.kt)("h2",{id:"file-format"},"File format"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"pose_id"),(0,l.kt)("th",{parentName:"tr",align:null},"audio_url"),(0,l.kt)("th",{parentName:"tr",align:null},"voice_name"),(0,l.kt)("th",{parentName:"tr",align:null},"text"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"...")))),(0,l.kt)("p",null,"you can get <",(0,l.kt)("inlineCode",{parentName:"p"},"audio_url"),"> or <",(0,l.kt)("inlineCode",{parentName:"p"},"voice_name"),",",(0,l.kt)("inlineCode",{parentName:"p"},"text"),">, if you get ",(0,l.kt)("inlineCode",{parentName:"p"},"audio_url"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"voice_name")," , ",(0,l.kt)("inlineCode",{parentName:"p"},"text")," at same time, will use ",(0,l.kt)("inlineCode",{parentName:"p"},"audio_url")," only"),(0,l.kt)("p",null,(0,l.kt)("a",{target:"_blank",href:n(9104).Z},"template for excel")),(0,l.kt)("p",null,(0,l.kt)("a",{target:"_blank",href:n(81479).Z},"template for csv")),(0,l.kt)("h2",{id:"upload-here"},"Upload here"),(0,l.kt)(V,{mdxType:"BatchVideoCreate"}))}T.isMDXComponent=!0},81479:function(e,t,n){"use strict";t.Z=n.p+"assets/files/batch_create_video_template-b5885a9b2e876dbdca4ba1b8b88876a3.csv"},9104:function(e,t,n){"use strict";t.Z=n.p+"assets/files/batch_create_video_template-e28563aa1c1b0e7f35da139a02aa52ca.xlsx"},49365:function(e,t,n){var r={"./af":96124,"./af.js":96124,"./ar":84782,"./ar-dz":9971,"./ar-dz.js":9971,"./ar-kw":58327,"./ar-kw.js":58327,"./ar-ly":87422,"./ar-ly.js":87422,"./ar-ma":70950,"./ar-ma.js":70950,"./ar-sa":58165,"./ar-sa.js":58165,"./ar-tn":95179,"./ar-tn.js":95179,"./ar.js":84782,"./az":6033,"./az.js":6033,"./be":61904,"./be.js":61904,"./bg":18720,"./bg.js":18720,"./bm":68251,"./bm.js":68251,"./bn":5363,"./bn-bd":94083,"./bn-bd.js":94083,"./bn.js":5363,"./bo":47086,"./bo.js":47086,"./br":41887,"./br.js":41887,"./bs":62248,"./bs.js":62248,"./ca":45387,"./ca.js":45387,"./cs":53924,"./cs.js":53924,"./cv":1026,"./cv.js":1026,"./cy":66039,"./cy.js":66039,"./da":98532,"./da.js":98532,"./de":57616,"./de-at":30916,"./de-at.js":30916,"./de-ch":14894,"./de-ch.js":14894,"./de.js":57616,"./dv":89363,"./dv.js":89363,"./el":45050,"./el.js":45050,"./en-au":34020,"./en-au.js":34020,"./en-ca":29080,"./en-ca.js":29080,"./en-gb":14341,"./en-gb.js":14341,"./en-ie":28612,"./en-ie.js":28612,"./en-il":73885,"./en-il.js":73885,"./en-in":24619,"./en-in.js":24619,"./en-nz":32064,"./en-nz.js":32064,"./en-sg":65492,"./en-sg.js":65492,"./eo":10906,"./eo.js":10906,"./es":20173,"./es-do":94360,"./es-do.js":94360,"./es-mx":88797,"./es-mx.js":88797,"./es-us":79463,"./es-us.js":79463,"./es.js":20173,"./et":81602,"./et.js":81602,"./eu":32651,"./eu.js":32651,"./fa":31147,"./fa.js":31147,"./fi":14312,"./fi.js":14312,"./fil":82425,"./fil.js":82425,"./fo":9526,"./fo.js":9526,"./fr":83955,"./fr-ca":36584,"./fr-ca.js":36584,"./fr-ch":27314,"./fr-ch.js":27314,"./fr.js":83955,"./fy":89158,"./fy.js":89158,"./ga":11038,"./ga.js":11038,"./gd":58753,"./gd.js":58753,"./gl":78279,"./gl.js":78279,"./gom-deva":70830,"./gom-deva.js":70830,"./gom-latn":67334,"./gom-latn.js":67334,"./gu":54296,"./gu.js":54296,"./he":89229,"./he.js":89229,"./hi":43165,"./hi.js":43165,"./hr":84328,"./hr.js":84328,"./hu":8941,"./hu.js":8941,"./hy-am":90156,"./hy-am.js":90156,"./id":66075,"./id.js":66075,"./is":20789,"./is.js":20789,"./it":73224,"./it-ch":71026,"./it-ch.js":71026,"./it.js":73224,"./ja":71048,"./ja.js":71048,"./jv":24189,"./jv.js":24189,"./ka":6672,"./ka.js":6672,"./kk":5301,"./kk.js":5301,"./km":30567,"./km.js":30567,"./kn":24409,"./kn.js":24409,"./ko":2162,"./ko.js":2162,"./ku":18845,"./ku.js":18845,"./ky":50301,"./ky.js":50301,"./lb":18737,"./lb.js":18737,"./lo":44609,"./lo.js":44609,"./lt":81957,"./lt.js":81957,"./lv":72235,"./lv.js":72235,"./me":10374,"./me.js":10374,"./mi":8261,"./mi.js":8261,"./mk":13097,"./mk.js":13097,"./ml":52576,"./ml.js":52576,"./mn":45134,"./mn.js":45134,"./mr":65493,"./mr.js":65493,"./ms":51753,"./ms-my":92039,"./ms-my.js":92039,"./ms.js":51753,"./mt":72834,"./mt.js":72834,"./my":24434,"./my.js":24434,"./nb":11650,"./nb.js":11650,"./ne":98362,"./ne.js":98362,"./nl":67618,"./nl-be":11480,"./nl-be.js":11480,"./nl.js":67618,"./nn":33934,"./nn.js":33934,"./oc-lnc":10567,"./oc-lnc.js":10567,"./pa-in":20004,"./pa-in.js":20004,"./pl":87160,"./pl.js":87160,"./pt":49934,"./pt-br":33770,"./pt-br.js":33770,"./pt.js":49934,"./ro":88662,"./ro.js":88662,"./ru":8154,"./ru.js":8154,"./sd":49574,"./sd.js":49574,"./se":5162,"./se.js":5162,"./si":35544,"./si.js":35544,"./sk":30327,"./sk.js":30327,"./sl":99751,"./sl.js":99751,"./sq":69253,"./sq.js":69253,"./sr":25722,"./sr-cyrl":98776,"./sr-cyrl.js":98776,"./sr.js":25722,"./ss":95865,"./ss.js":95865,"./sv":69715,"./sv.js":69715,"./sw":4192,"./sw.js":4192,"./ta":33561,"./ta.js":33561,"./te":67890,"./te.js":67890,"./tet":40525,"./tet.js":40525,"./tg":6876,"./tg.js":6876,"./th":92590,"./th.js":92590,"./tk":37191,"./tk.js":37191,"./tl-ph":47046,"./tl-ph.js":47046,"./tlh":65342,"./tlh.js":65342,"./tr":99653,"./tr.js":99653,"./tzl":67999,"./tzl.js":67999,"./tzm":94978,"./tzm-latn":17608,"./tzm-latn.js":17608,"./tzm.js":94978,"./ug-cn":56574,"./ug-cn.js":56574,"./uk":53382,"./uk.js":53382,"./ur":7384,"./ur.js":7384,"./uz":43635,"./uz-latn":31720,"./uz-latn.js":31720,"./uz.js":43635,"./vi":68027,"./vi.js":68027,"./x-pseudo":43859,"./x-pseudo.js":43859,"./yo":22196,"./yo.js":22196,"./zh-cn":67899,"./zh-cn.js":67899,"./zh-hk":28605,"./zh-hk.js":28605,"./zh-mo":87282,"./zh-mo.js":87282,"./zh-tw":53994,"./zh-tw.js":53994};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=49365}}]);